<html>

<head>

<title>jre - The Java Runtime Interpreter (Win32)</title>

</head>

<BODY BGCOLOR="#FFFFFF">



<h1>jre - The Java Runtime Interpreter (Win32)</h1>

<blockquote>

<b>jre</b> interprets (executes) Java bytecodes.

</blockquote>



<h2>SYNOPSIS</h2>

<pre>
   jre [ <a href="#Options">options</a> ] classname &lt;args&gt;
   jrew [ <a href="#Options">options</a> ] classname &lt;args&gt;
</pre>



<h2>DESCRIPTION</h2>

<blockquote>

The <b>jre</b> command executes Java <code>class</code> files. The 

<b>jrew</b> command is identical to <b>jre</b>, except that with 

<b>jrew</b> there is no associated console window. Use <b>jrew</b> 

when you don't want a command prompt window to appear.

<p>

The <code>classname</code> argument is the name of the class file to be 
executed. Any arguments to be passed to the class must be placed 
after the <code>classname</code> on the command line.

On Windows platforms, the <b>jre</b> tool ignores the CLASSPATH environment 
variable. The <code>-cp</code> option should be used to specify an 
application's class path.
</blockquote>

<a name=jit></a>
<h2>USING THE JIT</h2>
<blockquote>
<p>
By default, each class file is compiled to native code by a Just In
Time bytecode compiler, or JIT. Using the JIT can cause some delay in
program startup and class file loading, but can also reduce overall
program execution time by a factor of ten.
<p>
On Windows,
<b>jre</b> ignores the environment variable JAVA_COMPILER. To disable
the JIT, use the <code>-nojit</code> option. To use an alternate JIT,
use the <code>-D</code> option to set the <code>java.compiler</code>
property.
The launcher appends <code>.DLL</code> to the property value,
then searches for the resulting filename. The search begins in the
executable directory (the same directory that contains
<code>JRE.EXE</code>), and continues with all directories in the
<code>PATH</code>. For example:
<pre>
    jre -Djava.compiler=myjit MyClass
</pre>
</blockquote>
<a name=Options>

<h2>OPTIONS</h2>

</a>



<dl>

<dt><b>-classpath</b><i> path(s)</i>

<dd>

Specifies the path or paths that <b>jre</b> uses to look up classes. 
Overrides the default classpath set in the registry. 
If more than one path is specified, they must be separated by semicolons. 
Each path should end with the directory containing the class file(s) to 
be executed. However, if a file to be executed is a <code>zip</code> 
or <code>jar</code> file, the path to that file must end with the file's 
name. Here is an example of an argument for <tt>-classpath</tt> consisting 
of two paths:

<pre>
   C:\xyz\classes;C:\usr\local\java\classes\MyClasses.jar
</pre>

<p>


<dt><b>-cp</b><i> path(s)</i>

<dd>

Prepends the specified path or paths to the base classpath that 
<b>jre</b> uses to look up classes. If more than one path 
is specified, they must be separated by semicolons. Each path should end 
with the directory containing the class file(s) to be executed. However, 
if a file to be executed is a <cocd>zip</code> or <code>jar</code> 
file, the path to that file must end with the file's name. 
Here is an example of an argument for <tt>-cp</tt> consisting of two paths:

<pre>
   C:\xyz\classes;C:\usr\local\java\classes\MyClasses.jar
</pre>

<p>


<dt><b>-help</b>  

<dd> 

Print a usage message.

<p> 


<dt><b>-mx</b><i>x</i>

<dd>

Sets the maximum size of the memory allocation pool (the garbage collected

heap) to <i>x</i>. The default is 16 megabytes of memory. <i>x</i> must be

greater than or equal to 1000 bytes.

<p>

By default, <i>x</i> is measured in bytes. You can specify <i>x</i> in either

kilobytes or megabytes by appending the letter &quot;k&quot; for kilobytes or

the letter &quot;m&quot; for megabytes.

<p>



<dt><b>-ms</b> <i>x</i>

<dd>

Sets the startup size of the memory allocation pool (the garbage collected

heap) to <i>x</i>. The default is 1 megabyte of memory. <i>x</i> must be

&gt; 1000 bytes.

<p>

By default, <i>x</i> is measured in bytes. You can specify <i>x</i> in either

kilobytes or megabytes by appending the letter &quot;k&quot; for kilobytes or

the letter &quot;m&quot; for megabytes.

<p>



<dt><b>-noasyncgc</b>

<dd>

Turns off asynchronous garbage collection. When activated no garbage

collection takes place unless it is explicitly called or the program 

runs out of memory. Normally garbage collection runs as an asynchronous 

thread in parallel with other threads.

<p>



<dt><b>-noclassgc</b>

<dd>

Turns off garbage collection of Java classes. By default, the Java interpreter

reclaims space for unused Java classes during garbage collection.

<p>


<dt><b>-nojit</b>
<dd>
Don't invoke the Just In Time bytecode compiler. The virtual machine
directly interprets bytecodes, without converting them to native code.

<p>



<dt><b>-ss</b><i>x</i>

<dd>

Each Java thread has two stacks: one for Java code and one for C code.

The <code>-ss</code> option sets the maximum stack size that can be used by 
C code 

in a thread to <i>x</i>. Every thread that is spawned during the execution of

the program passed to <b>jre</b> has <i>x</i> as its C stack size. The 
default

units for <i>x</i> are bytes. The value of <i>x</i> must be greater

than or equal to 1000 bytes.

<p>

You can modify the meaning of <i>x</i> by appending either the letter 
&quot;k&quot;

for kilobytes or the letter &quot;m&quot; for megabytes. The default stack 
size

is 128 kilobytes ("-ss128k").

<p>



<dt><b>-oss</b><i>x</i>

<dd>

Each Java thread has two stacks: one for Java code and one for C code.

The <code>-oss</code> option sets the maximum stack size that can be used by 
Java code 

in a thread to <i>x</i>. Every thread that is spawned during the execution of

the program passed to <b>jre</b> has <i>x</i> as its Java stack size. The 
default 

units for <i>x</i> are bytes. The value of <i>x</i> must be greater

than or equal to 1000 bytes.

<p>

You can modify the meaning of <i>x</i> by appending either the letter 
&quot;k&quot;

for kilobytes or the letter &quot;m&quot; for megabytes. The default stack 
size is

400 kilobytes ("-oss400k").

<p>



<dt><b>-v, -verbose</b>

<dd>

Causes <b>jre</b> to print a message to stdout each time a class file is 

loaded.

<p>



<dt><b>-verify</b>

<dd>

Performs byte-code verification on the class file. Beware, 
however, that <b>java -verify</b> does not perform a full verification 
in all situations. Any code path that is not actually executed 
by the interpreter is not verified. Therefore, <b>java -verify</b> 
cannot be relied upon to certify class files unless all code 
paths in the class file are actually run.
<p>



<dt><b>-verifyremote</b>

<dd>

Runs the verifier on all code that is loaded into the system via a

classloader. <i>verifyremote</i> is the default for the interpreter.

<p>



<dt><b>-noverify</b>

<dd>

Turns verification off.

<p>



<dt><b>-verbosegc</b>

<dd>

Causes the garbage collector to print out messages whenever it frees 

memory.

<p>

<dt><b>-D</b><i>propertyName=newValue</i>
<dd>
Defines a property value. <i>propertyName</i> is the name of the 
property whose value you want to change and <i>newValue</i> is the 
value to change it to. For example, this command line
<pre>
% jre -Dawt.button.color=green ...
</pre>
sets the value of the property awt.button.color to "green". <b>jre</b> 
accepts any number of <tt>-D</tt> options on the command line.

</dl>
<h3>Options for Control of Heap Expansion and Shrinkage</h3>

The following options, introduced in version 1.1.8 of the Java 
Development Kit, allow for user control of garbage-collected 
heap expansion and shrinkage.  The default settings of the 
heap expansion and shrinkage parameters are appropriate for 
the majority of applications, so these options are not needed 
in most computing situations.  You should not use them unless you 
understand the effect they will have on your application. Randomly 
setting these options is as likely to decrease the performance 
of your system as improve it.  The effect of these options will 
be greatest if a JIT compiler is not being used.  See also the 
<a href="#limitations">heap shrinkage limitations</a> below.

<dl>
<dt><b>-maxe</b><i>size</i>
<dd>
Sets the maximum size of each expansion of the heap when more memory is 
required. By default, <i>size</i> is measured in bytes.  To specify size in 
either kilobytes or megabytes, append "k" for kilobytes or "m" for megabytes.
The default value for the setting of <b>maxe</b> is 2 megabyte of memory. 
Example:	
<blockquote><pre>
java -maxe2097152 MyClass
</pre></blockquote>
<p>

<dt><b>-mine</b><i>size</i>
<dd>
Sets the minimum size of each expansion of the heap.  Also sets the 
minimum size of free object space in the heap. The heap will be 
returned to the OS only when the amount of free object space in the 
heap space is more than the setting of <b>mine</b>. By default, <i>size</i> is 
measured in bytes.  To specify size in either kilobytes or megabytes,
append "k" for kilobytes or "m" for megabytes. The default value for 
<b>mine</b> is 1 megabyte of memory. 
Example:	
<blockquote><pre>
java -mine1048576 MyClass
</pre></blockquote>
<p>

<dt><b>-maxf</b><i>float</i>
<dd>
Sets the approximate percentage of maximum free heap. If the percentage 
of free object space in the heap is more than the setting of <b>maxf</b> 
and the amount of free object space in the heap is more than the setting 
of <b>mine</b>, and free object space is located at the top of the heap, 
the garbage collector will attempt to shrink the heap by returning a 
portion of free object space back to the OS. The heap size will not shrink 
below its initial size. The default value for <b>maxf</b> is 1.00; by 
default no heap is returned back to the OS.
Example:	
<blockquote><pre>
java -maxf0.60 MyClass
</pre></blockquote>
<p>

<dt><b>-minf</b><i>float</i>
<dd>
Sets the approximate percentage of minimum free space in the heap to 
give control over the rate of preallocation performed when heap space 
is expanded. After expansion, approximately <b>minf</b> percent of the heap 
should be free.  The actual amount of free space in the space after 
expansion is dependent on the value of <b>minf</b> and fragmentation 
of free spaces 
within the heap. The default value for <b>minf</b> is 0.25.
Example:	
<blockquote><pre>
java -minf0.35 MyClass
</pre></blockquote>
</dl>
<p>
<a name=limitations><b>Heap Shrinkage Limitations</b></a>: 
The amount heap shrinkage relies on using heap compaction to 
free up space at the end of the heap which is then
de-committed to return it to the OS. The Java garbage collector is 
implemented using a compacting, mark-sweep collector with some 
conservative scanning.  A gc is conservative if it does not collect 
memory that looks as if it might be in use on the stack or in registers.
<p>
The mark-sweep and conservative scanning phase of the garbage collector marks 
objects as being free, used and un-movable (pinned), or used and movable.  
After the objects have been marked, free space is garbage collected.
The compacting phase of the garbage collector attempts 
to coalesce the movable objects to the low end of object space to 
reduce heap fragmentation.
<p>
If an object is un-movable (pinned), it cannot be moved 
during the compaction phase.  If one of the pinned objects is 
near the top of the heap, and much of the free space is below it, 
the free space below the pinned object cannot be returned to the OS.
If either the JIT compiler is enabled, or the Java Native Interface (JNI) API 
or native method interface is used to make C calls, the 
conservative scan phase of the garbage collector may see a value in 
memory created by the C code that looks like a pointer to an object 
and mark the object in the heap as "pinned" because it appears 
to be pointed to directly by native code.
</blockquote>

<h2>SEE ALSO</h2>
<blockquote>
<a href="java.html">java</a>
</blockquote>

</body>

</html>

