<html>

<head>

<title>java - The Java Application Launcher</title>

</head>

<BODY BGCOLOR="#FFFFFF">



<h1>java - The Java Interpreter</h1>

<blockquote>

<b>java</b> launches a Java application. 

</blockquote>



<h2>SYNOPSIS</h2>
<blockquote>
<pre>
   <b>java</b> [ <a href="java.html#Options">options</a> ] classname &lt;args&gt;
   <b>java_g</b> [ <a href="java.html#Options">options</a> ] classname &lt;args&gt;
   <b>javaw</b> [ <a href="java.html#Options">options</a> ] classname &lt;args&gt;
   <b>javaw_g</b> [ <a href="java.html#Options">options</a> ] classname &lt;args&gt;
</pre>
</blockquote>


<h2>DESCRIPTION</h2>

<blockquote>

The <b>java</b> program launches a Java application. It does this by

starting a Java runtime environment, loading a

specified class, and invoking that class's <b>main</b> method. 

The <b>java</b> command executes Java <code>.class</code> files created by 

a Java compiler, for instance, 

<a href=javac.html><b>javac</b></a>. The <b>javaw</b> command is identical

to <b>java</b>, except that with <b>javaw</b> there is no associated console

window. Use <b>javaw</b> when you don't want a command prompt window to

appear.



<p>

The <code>classname</code> argument is the name of the class to be executed.

<code>classname</code> must be fully qualified by including its package in the

name, for example:

<pre>
   % java java.lang.String
</pre>

Note that any arguments that appear after <code>classname</code> on the 
command line

are passed to the <code>main</code> method of the class.



<p>

<b>java</b> expects the binary representation of the class to be in a file 
called

named after the class.  Thus, class String would be in <code>String.class</code> 

which is generated by compiling the corresponding <code>String.java</code>

source file with <b>javac</b>. All Java class files end with the

filename extension <code>.class</code> which the compiler automatically adds

when the class is compiled. <i>classname</i> must contain a

<code>main</code> method defined as follows:


<pre>
   class Aclass {
       public static void main(String argv[]){ 
       . . .
       }
   }
</pre>
<b>java</b> executes the <code>main</code> method and then exits unless

<code>main</code> creates one or more threads. If any threads are created

by <code>main</code> then <b>java</b> doesn't exit until the last thread

exits.



<p>

When you define your own classes you need to specify their location.

Use CLASSPATH to do this. CLASSPATH consists of a semicolon separated list of

directories that specifies the path. For example:


<pre>
   .;C:\xyz\classes
</pre>


Note that the system always appends the location of the system classes

onto the end of the class path unless you use the <code>-classpath</code> 
option to 

specify a path.




<p>

The interpreter can determine whether a class is legitimate through the 

mechanism of verification. Verification ensures prior to their execution that 

class files do not violate any language constraints.



<p>

<b>java_g</b> is a non-optimized version of <b>java</b> suitable for use with 

debuggers like <a href=jdb.html><b>jdb</b></a>.
When using <b>java_g</b> to 
run a program that loads a shared library, you must supply a debug version 
of the library. You can create a debug version of a library 
by simply appending "<tt>_g</tt>" to the file's name. For example, if 
the library was <tt>hello.dll</tt>, you would need to change the name 
to <tt>hello_g.dll</tt>. 


</blockquote>
<a name=jit></a>
<h2>USING THE JIT</h2>
<blockquote>
By default, each class file is compiled to native code by a Just In
Time bytecode compiler, or JIT. Using the JIT can cause some delay in
program startup and class file loading, but can
also reduce overall program execution time by a factor of ten.
<p>
You can disable the JIT and use a bytecode interpreter instead. There
are two ways to disable the JIT:
<ul>
<p><li>
Use the command line option <code>-nojit</code>.
<p><li>
Set the the environment variable <code>JAVA_COMPILER</code> to "NONE".
</ul>
<p>
The value of <code>JAVA_COMPILER</code> can also be the name of an
alternate JIT. The launcher appends <code>.DLL</code> to the value,
then searches for the resulting filename. The search begins in the
executable directory (the same directory that contains
<code>JAVA.EXE</code>), and continues with all directories in the
<code>PATH</code>.
<p>
You can also specify an alternate JIT by specifying the
<code>java.compiler</code> property:
<pre>
    java -Djava.compiler=myjit MyClass
</pre>
<p>
If JIT options are specified both by the <code>JAVA_COMPILER</code>
environment variable and by a command-line option, the command-line
option takes precedence. If multiple command line options conflict, the
last option takes precedence.
</blockquote>
<a name=Options>

<h2>OPTIONS</h2>

</a>

<blockquote>


<dl>

<dt><b>-debug</b>

<dd>

Allows the Java debugger, <a href=jdb.html><b>jdb</b></a>, to attach itself

to this <b>java</b> session. When <code>-debug</code> is specified on the 
command line

<b>java</b> displays a password which must be used when starting the debugging

session.

<p>



<dt><b>-classpath</b><i> path</i>

<dd>

Specifies the path <b>java</b> uses to look up classes. Overrides the default 

or the CLASSPATH environment variable if it is set. Directories are 
separated by 

semicolons. Thus the general format for <i>path</i> is:


<pre>
   .:&lt;your_path&gt;
</pre>

For example:

<pre>
   C:\xyz\classes;C:\usr\local\java\classes
</pre>

<p>



<dt><b>-mx</b><i>x</i>

<dd>

Sets the maximum size of the memory allocation pool (the garbage collected

heap) to <i>x</i>. The default is 16 megabytes of memory. <i>x</i> must be

greater than or equal to 1000 bytes. The maximum memory size must be greater 
than or equal to the startup memory size (specified with the <tt>-ms</tt> 
option, default 16 megabytes). 

<p>

By default, <i>x</i> is measured in bytes. You can specify <i>x</i> in either

kilobytes or megabytes by appending the letter &quot;k&quot; for kilobytes or

the letter &quot;m&quot; for megabytes.

<p>



<dt><b>-ms</b><i>x</i>

<dd>

Sets the startup size of the memory allocation pool (the garbage collected

heap) to <i>x</i>. The default is 1 megabyte of memory. <i>x</i> must be

&gt; 1000 bytes. The startup memory size must be less  
than or equal to the maximum memory size (specified with the <tt>-mx</tt> 
option, default 16 megabytes). 

<p>

By default, <i>x</i> is measured in bytes. You can specify <i>x</i> in either

kilobytes or megabytes by appending the letter &quot;k&quot; for kilobytes or

the letter &quot;m&quot; for megabytes.

<p>


<dt><b>-noasyncgc</b>

<dd>

Turns off asynchronous garbage collection. When activated no garbage

collection takes place unless it is explicitly called or the program 

runs out of memory. Normally garbage collection runs as an asynchronous 

thread in parallel with other threads.

<p>



<dt><b>-noclassgc</b>

<dd>

Turns off garbage collection of Java classes. By default, the Java interpreter

reclaims space for unused Java classes during garbage collection.

<p>
<dt><b>-nojit</b>
<dd>
Don't invoke the Just In Time bytecode compiler. The virtual machine
directly interprets bytecodes, without converting them to native code.
See <a href=#jit>Using the JIT</a>, above.

<p>


<dt><b>-prof</b>

<dd>

Starts the Java Runtime with Java profiling enabled. By default, this puts 
profile results in the file <code>.\java.prof</code>.
This option works only with <b>java_g</b> and <b>javaw_g</b>.
<p>



<dt><b>-prof:</b><i>file</i>

<dd>

Starts the Java Runtime with Java profiling enabled. This form of the flag 
allows the user to specify a different output file for the profile 
information. For example, the flag <code>-prof:myprog.prof</code> enables 
profiling and puts the profile results in the file <code>myprog.prof</code> 
rather than in the default file <code>.\java.prof</code>.
This option works only with <b>java_g</b> and <b>javaw_g</b>.
<p>





<dt><b>-version</b> 

<dd> 

Print the build version information.

<p>



<dt><b>-help</b>  

<dd> 

Print a usage message.

<p> 

<dt><b>-ss</b><i>x</i>

<dd>

Each Java thread has two stacks: one for Java code and one for C code.

The <code>-ss</code> option sets the maximum stack size that can be used by 
C code 

in a thread to <i>x</i>. Every thread that is spawned during the execution of

the program passed to <b>java</b> has <i>x</i> as its C stack size. The 
default

units for <i>x</i> are bytes. The value of <i>x</i> must be greater

than or equal to 1000 bytes.

<p>

You can modify the meaning of <i>x</i> by appending either the letter 
&quot;k&quot;

for kilobytes or the letter &quot;m&quot; for megabytes. The default stack 
size

is 128 kilobytes ("-ss128k").

<p>



<dt><b>-oss</b><i>x</i>

<dd>

Each Java thread has two stacks: one for Java code and one for C code.

The <code>-oss</code> option sets the maximum stack size that can be used by 
Java code 

in a thread to <i>x</i>. Every thread that is spawned during the execution of

the program passed to <b>java</b> has <i>x</i> as its Java stack size. The 
default 

units for <i>x</i> are bytes. The value of <i>x</i> must be greater

than or equal to 1000 bytes.

<p>

You can modify the meaning of <i>x</i> by appending either the letter 
&quot;k&quot;

for kilobytes or the letter &quot;m&quot; for megabytes. The default stack 
size is

400 kilobytes ("-oss400k").

<p>



<dt><b>-t</b>

<dd>

Prints a trace of the instructions executed (<b>java_g</b> only).

<p>



<dt><b>-v, -verbose</b>

<dd>

Causes <b>java</b> to print a message to stdout each time a class file is 

loaded.

<p>



<dt><b>-verify</b>

<dd>

Performs byte-code verification on the class file. Beware, 
however, that <b>java -verify</b> does not perform a full verification 
in all situations. Any code path that is not actually executed 
by the interpreter is not verified. Therefore, <b>java -verify</b> 
cannot be relied upon to certify class files unless all code 
paths in the class file are actually run.

<p>



<dt><b>-verifyremote</b>

<dd>

Runs the verifier on all code that is loaded into the system via a

classloader. <i>verifyremote</i> is the default for the interpreter.

<p>



<dt><b>-noverify</b>

<dd>

Turns verification off.

<p>



<dt><b>-verbosegc</b>

<dd>

Causes the garbage collector to print out messages whenever it frees 

memory.

<p>



<dt><b>-D</b><i>propertyName=newValue</i></b>

<dd>

Redefines a property value. <i>propertyName</i> is the name of the property

whose value you want to change and <i>newValue</i> is the value to change

it to. For example, this command line


<pre>
   % java -Dawt.button.color=green ...
</pre>

sets the value of the property awt.button.color to "green".

<b>java</b> accepts any number of <code>-D</code> options on the command line.

</dl>
<h3>Options for Control of Heap Expansion and Shrinkage</h3>

The following options, introduced in version 1.1.8 of the Java 
Development Kit, allow for user control of garbage-collected 
heap expansion and shrinkage.  The default settings of the 
heap expansion and shrinkage parameters are appropriate for 
the majority of applications, so these options are not needed 
in most computing situations.  You should not use them unless you 
understand the effect they will have on your application. Randomly 
setting these options is as likely to decrease the performance 
of your system as improve it.  The effect of these options will 
be greatest if a JIT compiler is not being used.  See also the 
<a href="#limitations">heap shrinkage limitations</a> below.

<dl>
<dt><b>-maxe</b><i>size</i>
<dd>
Sets the maximum size of each expansion of the heap when more memory is 
required. By default, <i>size</i> is measured in bytes.  To specify size in 
either kilobytes or megabytes, append "k" for kilobytes or "m" for megabytes.
The default value for the setting of <b>maxe</b> is 2 megabyte of memory. 
Example:	
<blockquote><pre>
java -maxe2097152 MyClass
</pre></blockquote>
<p>

<dt><b>-mine</b><i>size</i>
<dd>
Sets the minimum size of each expansion of the heap.  Also sets the 
minimum size of free object space in the heap. The heap will be 
returned to the OS only when the amount of free object space in the 
heap space is more than the setting of <b>mine</b>. By default, <i>size</i> is 
measured in bytes.  To specify size in either kilobytes or megabytes,
append "k" for kilobytes or "m" for megabytes. The default value for 
<b>mine</b> is 1 megabyte of memory. 
Example:	
<blockquote><pre>
java -mine1048576 MyClass
</pre></blockquote>
<p>

<dt><b>-maxf</b><i>float</i>
<dd>
Sets the approximate percentage of maximum free heap. If the percentage 
of free object space in the heap is more than the setting of <b>maxf</b> 
and the amount of free object space in the heap is more than the setting 
of <b>mine</b>, and free object space is located at the top of the heap, 
the garbage collector will attempt to shrink the heap by returning a 
portion of free object space back to the OS. The heap size will not shrink 
below its initial size. The default value for <b>maxf</b> is 1.00; by 
default no heap is returned back to the OS.
Example:	
<blockquote><pre>
java -maxf0.60 MyClass
</pre></blockquote>
<p>

<dt><b>-minf</b><i>float</i>
<dd>
Sets the approximate percentage of minimum free space in the heap to 
give control over the rate of preallocation performed when heap space 
is expanded. After expansion, approximately <b>minf</b> percent of the heap 
should be free.  The actual amount of free space in the space after 
expansion is dependent on the value of <b>minf</b> and fragmentation 
of free spaces 
within the heap. The default value for <b>minf</b> is 0.25.
Example:	
<blockquote><pre>
java -minf0.35 MyClass
</pre></blockquote>
</dl>
<p>
<a name=limitations><b>Heap Shrinkage Limitations</b></a>: 
The amount heap shrinkage relies on using heap compaction to 
free up space at the end of the heap which is then
de-committed to return it to the OS. The Java garbage collector is 
implemented using a compacting, mark-sweep collector with some 
conservative scanning.  A gc is conservative if it does not collect 
memory that looks as if it might be in use on the stack or in registers.
<p>
The mark-sweep and conservative scanning phase of the garbage collector marks 
objects as being free, used and un-movable (pinned), or used and movable.  
After the objects have been marked, free space is garbage collected.
The compacting phase of the garbage collector attempts 
to coalesce the movable objects to the low end of object space to 
reduce heap fragmentation.
<p>
If an object is un-movable (pinned), it cannot be moved 
during the compaction phase.  If one of the pinned objects is 
near the top of the heap, and much of the free space is below it, 
the free space below the pinned object cannot be returned to the OS.
If either the JIT compiler is enabled, or the Java Native Interface (JNI) API 
or native method interface is used to make C calls, the 
conservative scan phase of the garbage collector may see a value in 
memory created by the C code that looks like a pointer to an object 
and mark the object in the heap as "pinned" because it appears 
to be pointed to directly by native code.
</blockquote>



<h2>ENVIRONMENT VARIABLES</h2>

<blockquote>

<dl>



<dt>CLASSPATH

<dd>

Used to provide the system a path to user-defined classes. Directories are

separated by semicolons, for example,


<pre>
   C:\xyz\classes;C:\usr\local\java\classes
</pre>


</dl>

<p><dt>
JAVA_COMPILER
<dd>
Overrides default JIT. See <a href=#jit>Using the JIT</a>, above.

</blockquote>



<h2>SEE ALSO</h2>

<blockquote>

<a href="javac.html">javac</a>,

<a href="jdb.html">jdb</a>,

<a href="javah.html">javah</a>,

<a href="javap.html">javap</a>,

<a href="javadoc.html">javadoc</a>,

<a href="classpath.html">CLASSPATH</a>

</blockquote>



</body>

</html>

