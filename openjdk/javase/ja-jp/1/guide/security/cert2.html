<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD><TITLE>
どうして X.509 証明書について考慮しなければならないのですか？
</TITLE></HEAD>
<BODY>

<center>
<H2>
どうして X.509 証明書について考慮しなければならないのですか。
</H2>

<b> 最終更新日：<em>1997 年 2 月 9 日 </em></b>
</center>

<P>
X.509 証明書についてはすでに知っておられるでしょう。知っておられる場合は、この文書を読んでX.509 証明にどのような利点があるのかを理解することができます。X.509 証明の話を耳にしたことがない場合でも、この文書を読めばインターネットのセキュリティについて多くを学ぶことができます。この文書は以下のようにいくつかの部分で構成されています。

<UL>
<LI> 一言で言うと、証明書とは何ですか？

<LI> どんなアプリケーションで X.509 証明書を使用するのですか？

<LI> 証明書はどうやって取得するのですか？

<LI>X.509 証明書の中身はどのようなものですか？

<LI> どんな Java Tool で X.509 証明書の作成、表示、インポート、エキスポートができるのですか？

</UL>

<!-- *********************************************************** -->
<HR>
<H2>一言で言うと、証明書とは何ですか？</H2>

<EM>ID 証明書 </EM> とは、1 つのエンティティからデジタル署名した文書のことで、他のエンティティの公開鍵が何らかの特定値を持っていることを意味しています。

<P> この文の意味がわからない場合のために、以下に定義のいくつかを示します。
 <UL>

<LI>
<em> 公開鍵 </em> は特定のエントリに関連づけられた番号であり、そのエンティティと信頼できる対話操作をする必要のあるすべての人に知ってもらうことを意図している。<P>
<LI><em> エンティティ </em> とは、人、団体、プログラム、コンピュータ、企業、銀行、その他ある程度ユーザが信頼しているもののことである。
<p>

<LI> あるデータが <em> デジタル署名される </em> と、エンティティの名前と、そのエンティティがデータを知っていることを証明する署名とが保存される。
<p>

<LI><em>署名</em> は、データやエンティティの公開鍵から計算する。
<p>

<LI><em> 公開鍵 </em> は、特定のエンティティに対してだけ知らせる（つまり機密を保持）ことを前提とした数字である。秘密鍵は常に 1 つの公開鍵に関連づけられている。
</UL>

<P>
証明書は公開鍵暗号化技術に依存しています。証明について理解するためには、以下の事項だけを知っていれば十分です。

<em>(a)</em> 
秘密鍵と公開鍵で1組になります。
<em>(b)</em> 
秘密鍵は署名するのに使用します。
<em>(c)</em>
公開鍵は署名を確認するのに使用します。
<P>

これ以外に頻出する用語は <em>認証局</em> (CA)です。これらは、他の人々（エンティティ）に対して証明書を信頼して署名（発行）することができるエンティティ（たとえば企業）です。通常、公開鍵とその所有者間のバインディングを保証する一種の法的な責任を負います。 VeriSign、GTE など、多くの認証局があります。

<!-- *********************************************************** -->
<HR>
<H2>どんなアプリケーションが証明書を使用するのですか？</H2>

<P>
おそらく、現在最もよく見かける XD.509 証明書のアプリケーションは、SSL プロトコルをサポートしている Web ブラウザ（Nescape Navigator など）でしょう。 SSL (安全ソケットレイヤ) は、使っているネットワークトラフィックにプライバシーと権限を提供するセキュリティプロトコルです。これらのブラウザでは、サポートしている Web サーバーでこのプロトコルを使用することができるだけです。

<P>
X.509 証明書に依存するその他の技術には以下があります。

<UL>
<LI>
PEM と S/MIME などの様々な安全性の高いの E-mail 規格
<LI>
SET のような E-Commerce プロトコル
<LI>
Microsoft AuthentiCode や署名した Java ARchive（JAR ファイル）などの様々なコード署名方式
</UL>

<!-- *********************************************************** -->
<HR>
<H2>どうすれば証明書を取得できますか？</H2>

<P>
証明書を取得する方法には 2 種類あります。
<em>(1)</em>
自分で（正しいツールを使って）作成することができます。
<em>(2)</em>
または、誰か他の人（CA）に頼んで発行してもらうこともできます。
証明書作成プロセスでの主な入力項目は以下のようになります。
<UL>
<LI>
なんらかの専用ツール（<a href = "#javakey">javakey</a> など）を使用して作成した、 <em> 公開鍵と秘密鍵 </em> が一致

<strong> 公開鍵だけが他人に公開されている。</strong>
秘密鍵はデータに署名するのに使用する。誰か他の人がユーザの秘密鍵を知っている場合は、ユーザであるふりをすることができる。おそらくユーザに関する法的な書類を偽造したりすることがあるだろう。
<p>

<LI>
<em> 証明されているエンティティに関する情報 </em>（たとえば自分）を提供する必要がある。これには通常ユーザ名や組織のアドレスなどの情報が含まれる。CA に自分に対する証明書の発行を求める場合は、情報の正しさを示すための証拠を提供する必要がある。
</UL>

<P>
CA に証明書の発行を依頼するときは、公開鍵や自分に関する情報を提供します。ツール（Netscape Navigator 3.0 など）を使用してデジタルでこの情報に署名し、CA に送ります。（その CA が、<em> 信頼できるサードパーティの CA サービス </em> を提供する Verisign のような企業であることもあれば、インターネットプロバイダやその他の団体であることもあります）。CA は証明書を作成して返送します。

<P>
自分で証明を作成するときは、同じ情報に、他の情報を少し加えて（証明の有効期間、シリアル番号）、何らかのツール（<a href = "#javakey">javakey</a> など）を使用して証明を作成します。すべての人が自分で署名した証明を受け入れるわけではありません。CA によって提供される値の一部は、証明要件に基づいて中立の信頼イントロダクションサービスとしての役割を果たします。これは Certification Service Practices (CSP)で公開で発行されます。

<!-- *********************************************************** -->
<HR>
<H2>X.509 証明書の中身はどのようになっていますか？</H2>

<P>
X.509 は、証明書にどの情報が入るのかを定め、書き込む方法（データフォーマット）を記述しています。すべての X.509 証明書には署名に加えて以下のデータがあります。
<OL>
<LI><em> バージョン </em>
<br>
どのバージョンの X.509 規格がこの証明書に適用するのかを特定します。これは指定することのできる情報の種類に影響します。バージョン 1 は 1988 年から利用されていて広く普及しています。

<p>

<LI><em> 件名 </em>
<br>
公開鍵が証明によって特定されるエンティティの名称。この名称には X.500 規格を使用するので、Internet の世界で一意になることを意図しています。これはエンティティの識別名（DN）です。たとえば次のようになります。

<pre>
    CN=Java Duke, OU=JavaSoft, O=Sun Microsystems Inc, C=US
</pre>

（これらは、共通名、団体の単位、団体、国を意味します。）
<p>

<LI><em> 公開鍵 </em>
<br>.
これは名前を付けるエンティティの公開鍵です。
<p>

<LI><em> 発行者名 </em>
<br>
証明に署名したエンティティの X.500 名。通常、これは CA です。この証明書を使用すると、この証明書に署名したエンティティを信頼すると暗示することになります。（<em> ルートまたはトップレベル </em>CA 証明書など、状況によっては、発行者が自身の証明書に署名することがあるということに注意してください）。

<p>

<LI><em> シリアル番号 </em>
<br>
証明を作成したエンティティは、他の証明と区別するために、シリアル番号を割り当てる責任を負います。
<p>

<LI><em> 有効期間 </em>
<br>
各証明書が有効なのは、限られた時間の間だけです。この期間は、開始の日時および終了の日時によって記述され、数秒のこともあれば、1 世紀もの長期にわたることもあります。有効期間は、証明のサインに使用される秘密鍵の強度や証明書に支払う金額などの様々な要素によって変わります。
</OL>

<P>
これらの基本機能は <em>X.509 v1</em> の最初のバージョンの一部です。

<em>X.509 v2</em> では、特定の証明書がすでに信用できなくなっていることを判断するために CA によって使用される暗号化取り消し一覧（CRL）などの機能を追加しています。

<em>X.509 v3</em>（1996 年）では拡張の概念を追加しました。そのうちの <em>keyUsage</em>（「署名だけ」といった特定の目的に対して鍵の使用を制限する）や <em>AltNames</em>（DNS 名、Email アドレス、IP アドレスなどの他の名前を認める）がよく利用されています。

<P>
証明書のすべてのデータは、ASN.1/DER と呼ばれる 2 つの関連規格を使用してエンコードされます。<em>Abstract Syntax Notation 1</em> はデータについて記述しています。 <em>Definite Encoding Rules</em> は、データを保存したり転送したりする方法について記述しています。この組み合わせは「強力で柔軟」と言われると同時に「謎が多くて使いづらい」とも言われています。ASN.1/DER 以外の規格を使用するべきだという意見はあまり多くないようです。既存のインフラなら容易に発展させることができるからでしょう。

<!-- *********************************************************** -->

<H2><a name="javakey">X.509 証明書の作成、表示、インポート、エキスポートを行えるのはどんな Java ツールですか？</a></H2>

<b>javakey</b> (<a href="../../tooldocs/solaris/javakey.html">for Solaris</a>) (<a href="../../tooldocs/win32/javakey.html">for Windows</a>)という名前の新しい JDK 1.1 ツールがあり、以下の目的で使用します。
<ul>

  <li> エンティティ（人、会社、その他）、公開鍵と秘密鍵、証明書、エンティティが信頼される指示のデータベースを管理する。
<p>

  <li> 
クラスファイルやイメージ、サウンドなどの任意データを含む Java ARchive (JAR)ファイルのデジタル署名を作成する。
</ul>

<p> 
 <b>javakey</b> を使用して、ファイルとして保存された証明書の表示やインポート、エキスポートを行うことができ、新しい証明書を作成することができます。

<P>

<p>
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<HR SIZE=3 NOSHADE>
 
<IMG SRC="../../images/JAVA.85.GIF" ALIGN=RIGHT>
 
<FONT SIZE=-2>
<A HREF="../../relnotes/SMICopyright.html">Copyright (C)</A> 
1996, 1997 Sun Microsystems, Inc., 2550 Garcia Ave., Mtn. View, CA 94043-1100 USA. All rights reserved.
</FONT>

<br><br>
<FONT SIZE=-1>
Written by: David Brownell
</FONT><p>

<FONT SIZE=-1>
ご意見は <a href="mailto:java-security@java.sun.com">java-security@java.sun.com</a> までお寄せください。
</FONT>


</BODY></HTML>
