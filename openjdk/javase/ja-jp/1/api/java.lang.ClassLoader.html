<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Mar 17 12:02:09 PST 1997 -->
<title>
  クラス java.lang.ClassLoader
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">全パッケージ</a>  <a href="tree.html">クラス階層</a>  <a href="Package-java.lang.html">このパッケージ</a>  <a href="java.lang.Class.html#_top_">前項目</a>  <a href="java.lang.Compiler.html#_top_">次項目</a>  <a href="AllNames.html">インデックス</a></pre>
<hr>
<h1>
  クラス java.lang.ClassLoader
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----java.lang.ClassLoader
</pre>
<hr>
<dl>
  <dt> public abstract class <b>ClassLoader</b>
  <dt> extends <a href="java.lang.Object.html#_top_">Object</a>
</dl>
クラス <code>ClassLoader</code> は abstract クラスです。アプリケーションは、Java 仮想マシンが動的にクラスをロードするように拡張するため、<code>ClassLoader</code> のサブクラスを実装します。
 <p>
 通常、Java 仮想マシンは、プラットフォーム独立型のローカルファイルシステムからクラスをロードします。例えば、UNIX システムでは、<code>CLASSPATH</code> 環境変数が定義したディレクトリからクラスをロードします。
 <p>
 ただし、クラスから作成できないクラスもあります。このようなクラスは、ネットワークなどの他のソースから作成したり、アプリケーションが構築します。メソッド <code>defineClass</code> は、バイトの配列をクラス <code>Class</code> のインスタンスに変換します。新しく定義したクラスのインスタンスは、クラス <code>Class</code> の <code>newInstance</code> を使って生成できます。
 <p>
クラスローダで生成したオブジェクトのメソッドと構築子は、他のクラスを参照できます。参照するクラスを解決するために、Java 仮想マシンはクラスを最初に生成したクラスローダの <code>loadClass</code> メソッドを呼び出します。Java 仮想マシンが判別する必要がある事項が、クラスが存在するか、および存在する場合にスーパークラスを認識するかということだけの場合は、<code>resolve</code> フラグが <code>false</code> に設定されます。ただし、クラスのインスタンスを生成中の場合や、任意のメソッドを呼び出し中の場合は、クラスも解決する必要があります。この場合、<code>resolve</code> フラグは <code>true</code> に設定され、<code>resolveClass</code> メソッドが呼び出されます。
 <p>
例えば、アプリケーションはネットワーククラスローダを生成して、サーバーからクラスファイルをダウンロードできます。サンプルコードは以下のようになります:
 <blockquote><pre>
   ClassLoader loader&nbsp;= new NetworkClassLoader(host,&nbsp;port);
   Object main&nbsp;= loader.loadClass("Main", true).newInstance();
	 &nbsp;.&nbsp;.&nbsp;.
 </pre></blockquote>
 <p>
ネットワークローダサブクラスがクラスをネットワークからロードするには、メソッド <code>loadClass</code> を定義する必要があります。クラスを作成するバイトを一度ダウンロードしたら、メソッド <code>defineClass</code> を使ってインスタンス A を生成します。以下は、この実装サンプルです: 
 <p><hr><blockquote><pre>
     class NetworkClassLoader {
         String host;
         int port;
         Hashtable cache = new Hashtable();
         private byte loadClassData(String name)[] {
         // load the class data from the connection
         &nbsp;.&nbsp;.&nbsp;.
         }
         public synchronized Class loadClass(String name,
                                             boolean resolve) {
             Class c = cache.get(name);
             if (c == null) {
                 byte data[] = loadClassData(name);
                 c = defineClass(data, 0, data.length);
                 cache.put(name, c);
             }
             if (resolve)
                 resolveClass(c);
             return c;
         }
     }
 </pre></blockquote><hr>
<p>
<dl>
    <dt> <b>参照:</b>
    <dd> <a href="java.lang.Class.html#_top_">Class</a>, <a href="java.lang.Class.html#newInstance()">newInstance</a>, <a href="#defineClass(byte[], int, int)">defineClass</a>, <a href="#loadClass(java.lang.String, boolean)">loadClass</a>, <a href="#resolveClass(java.lang.Class)">resolveClass</a>
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ClassLoader()"><b>ClassLoader</b></a>()
  <dd>  新規クラスローダを構築して、これを初期化する。
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#defineClass(byte[], int, int)"><b>defineClass</b></a>(byte[], int, int)
  <dd>  バイトの配列をクラス <code>Class</code> のインスタンスに変換する。
<b>推奨されない。</b>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#defineClass(java.lang.String, byte[], int, int)"><b>defineClass</b></a>(String, byte[], int, int)
  <dd>  バイトの配列をクラス Class のインスタンスに変換する。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#findLoadedClass(java.lang.String)"><b>findLoadedClass</b></a>(String)
  <dd>  
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#findSystemClass(java.lang.String)"><b>findSystemClass</b></a>(String)
  <dd>  指定された名前を持つシステムクラスを検索し、必要に応じてロードする。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getResource(java.lang.String)"><b>getResource</b></a>(String)
  <dd>  指定された名前を持つリソースを検索する。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getResourceAsStream(java.lang.String)"><b>getResourceAsStream</b></a>(String)
  <dd>  指定されたリソース上の InputStream をゲットする。
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getSystemResource(java.lang.String)"><b>getSystemResource</b></a>(String)
  <dd>  指定された名前を持つリソースを検索する。
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getSystemResourceAsStream(java.lang.String)"><b>getSystemResourceAsStream</b></a>(String)
  <dd>  指定されたリソース上の InputStream をゲットする。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#loadClass(java.lang.String)"><b>loadClass</b></a>(String)
  <dd>  指定された名前を持つクラスをロードするようにクラスローダに要求する。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#loadClass(java.lang.String, boolean)"><b>loadClass</b></a>(String, boolean)
  <dd> 指定された名前を Class にする。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#resolveClass(java.lang.Class)"><b>resolveClass</b></a>(Class)
  <dd>  クラスを、クラスのインスタンスを生成したり、メソッドの 1 つを呼び出せるようにする。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setSigners(java.lang.Class, java.lang.Object[])"><b>setSigners</b></a>(Class, Object[])
  <dd>  クラスの署名者を設定する。
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="ClassLoader"></a>
<a name="ClassLoader()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>ClassLoader</b>
<pre>
  protected ClassLoader()
</pre>
<dl>
  <dd> 新規クラスローダを構築し、これを初期化します。
 <p>
セキュリティマネージャがある場合は、その <code>checkCreateClassLoader</code> メソッドが呼び出されます。これがセキュリティ例外になる場合があります。
<p>
  <dd><dl>
    <dt> <b>例外:</b> <a href="java.lang.SecurityException.html#_top_">SecurityException</a>
    <dd> 現在のスレッドが、新規クラスローダの許可を持たない場合
    <dt> <b>参照:</b>
    <dd> <a href="java.lang.SecurityException.html#_top_">SecurityException</a>, <a href="java.lang.SecurityManager.html#checkCreateClassLoader()">checkCreateClassLoader</a>
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="loadClass(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="loadClass"><b>loadClass</b></a>
<pre>
  public <a href="java.lang.Class.html#_top_">Class</a> loadClass(<a href="java.lang.String.html#_top_">String</a> name) throws <a href="java.lang.ClassNotFoundException.html#_top_">ClassNotFoundException</a>
</pre>
<dl>
  <dd> 指定された名前を持つクラスをロードするよう、クラスローダに要求します。クラスローダがロードしたクラスが最初に別のクラスを参照すると、Java 仮想マシンが <code>loadClass</code> メソッドを呼び出します。クラス <code>ClassLoader</code> のすべてのサブクラスは、このメソッドで定義する必要があります。
 <p>
<code>resolve</code> フラグが true の場合、メソッドは結果クラスオブジェクトについて <code>resolveClass</code> メソッドを呼び出します。
 <p>
同じ名前で何回もクラスが定義されないよう、クラスローダはハッシュテーブルまたは他のキャッシュを使う必要があります。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> name - 要求 <code>Class</code> 名
    <dd> resolve - <code>Class</code> を 解決する必要がある場合は <code>true</code>
    <dt> <b>返り値:</b>
    <dd> 結果 <code>Class</code>、またはクラスが見つからなかった場合は <code>null</code>
     <dt> <b>例外:</b> <a href="java.lang.ClassNotFoundException.html#_top_">ClassNotFoundException</a>
    <dd> クラスローダがクラス定義を見つけられない場合
  </dl></dd>
</dl>
<a name="loadClass(java.lang.String, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="loadClass"><b>loadClass</b></a>
<pre>
  protected abstract <a href="java.lang.Class.html#_top_">Class</a> loadClass(<a href="java.lang.String.html#_top_">String</a> name,
                                     boolean resolve) throws <a href="java.lang.ClassNotFoundException.html#_top_">ClassNotFoundException</a>
</pre>
<dl>
  <dd> 指定された名前をクラスにします。メソッド loadClass() は仮想マシンによって呼び出されます。abstract メソッドであるので、loadClass() は ClassLoader のサブクラスで定義されなければいけません。ハッシュテーブルを使うと、同じ Class を複数ロードせずに済みます。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> name - 要求 Class 名
    <dd> resolve - Class を解決する必要がある場合は true
    <dt> <b>返り値:</b>
    <dd> 結果 Class、または見つからない場合は null 
    <dt> <b>例外:</b> <a href="java.lang.ClassNotFoundException.html#_top_">ClassNotFoundException</a>
    <dd> クラスローダがクラス定義を見つけられない場合
    <dt> <b>参照:</b>
    <dd> <a href="java.util.Hashtable.html#_top_">Hashtable</a>
  </dl></dd>
</dl>
<a name="defineClass(byte[], int, int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="defineClass"><b>defineClass</b></a>
<pre>
  protected final <a href="java.lang.Class.html#_top_">Class</a> defineClass(byte data[],
                                    int offset,
                                    int length)
</pre>
<dl>
<dd><b> 注意: defineClass() は推奨されません。</b>
<i>defineClass(java.lang.String, byte[], int, int) に置換されました。</i>
<p>
  <dd> バイトの配列をクラス <code>Class</code> のインスタンスに変換します。最初にクラスを解決してからでなければ、クラスを使うことはできません。このメソッドよりも、「name (名前)」 を最初の引数として取るバージョンの方がお勧めですし、より安全です。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> data - <code>Class</code> を作成するバイト
    <dd> offset - <code>Class</code> データの開始オフセット
    <dd> length - <code>Class</code> データの長さ
    <dt> <b>返り値:</b>
    <dd> データから生成された <code>Class</code> オブジェクト
    <dt> <b>例外:</b> <a href="java.lang.ClassFormatError.html#_top_">ClassFormatError</a>
    <dd> データが有効 Class を含まない場合
    <dt> <b>参照:</b>
    <dd> <a href="#loadClass(java.lang.String, boolean)">loadClass</a>, <a href="#resolveClass(java.lang.Class)">resolveClass</a>
  </dl></dd>
</dl>
<a name="defineClass(java.lang.String, byte[], int, int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="defineClass"><b>defineClass</b></a>
<pre>
  protected final <a href="java.lang.Class.html#_top_">Class</a> defineClass(<a href="java.lang.String.html#_top_">String</a> name,
                                    byte data[],
                                    int offset,
                                    int length)
</pre>
<dl>
  <dd> バイトの配列をクラス Class のインスタンスに変換します。最初にクラスを解決してからでなければ、クラスを使うことはできません。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> name - クラスの予期名; 分からない場合は null;
 区切り文字には '.' を使う。'/' ではない。トレーリング ".class" 接尾語は使わない。
    <dd> data - <code>Class</code> を作成するバイト
    <dd> offset - <code>Class</code> データの開始オフセット
    <dd> length - <code>Class</code> データの長さ
    <dt> <b>返り値:</b>
    <dd> データから生成された <code>Class</code> オブジェクト
    <dt> <b>例外:</b> <a href="java.lang.ClassFormatError.html#_top_">ClassFormatError</a>
    <dd> データが有効 Class を含まない場合
    <dt> <b>参照:</b>
    <dd> <a href="#loadClass(java.lang.String, boolean)">loadClass</a>, <a href="#resolveClass(java.lang.Class)">resolveClass</a>
  </dl></dd>
</dl>
<a name="resolveClass(java.lang.Class)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="resolveClass"><b>resolveClass</b></a>
<pre>
  protected final void resolveClass(<a href="java.lang.Class.html#_top_">Class</a> c)
</pre>
<dl>
  <dd> クラスを、クラスのインスタンスを生成したり、メソッドの 1 つを呼び出せるようにします。解決フラグが <code>true</code> の場合、このメソッドは <code>loadClass</code> で呼び出します。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> c - 解決する <code>Class</code> インスタンス
    <dt> <b>参照:</b>
    <dd> <a href="#defineClass(java.lang.String, byte[], int, int)">defineClass</a>
  </dl></dd>
</dl>
<a name="findSystemClass(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="findSystemClass"><b>findSystemClass</b></a>
<pre>
  protected final <a href="java.lang.Class.html#_top_">Class</a> findSystemClass(<a href="java.lang.String.html#_top_">String</a> name) throws <a href="java.lang.ClassNotFoundException.html#_top_">ClassNotFoundException</a>
</pre>
<dl>
  <dd> 指定された名前を持つシステムクラスを検索し、必要に応じてロードします。
 <p>
システムクラスとは、プラットフォームから独立してローカルファイルシステムからロードしたクラスです。システムクラスにはクラスローダはありません。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> name - システム<code>クラス (class)</code> 名
    <dt> <b>返り値:</b>
    <dd> 指定された名前を持つシステムクラス
    <dt> <b>例外:</b> <a href="java.lang.ClassNotFoundException.html#_top_">ClassNotFoundException</a>
    <dd> クラス定義を 見つけられない場合
    <dt> <b>例外:</b> <a href="java.lang.NoClassDefFoundError.html#_top_">NoClassDefFoundError</a>
    <dd> クラスが見つからない場合
  </dl></dd>
</dl>
<a name="setSigners(java.lang.Class, java.lang.Object[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setSigners"><b>setSigners</b></a>
<pre>
  protected final void setSigners(<a href="java.lang.Class.html#_top_">Class</a> cl,
                                  <a href="java.lang.Object.html#_top_">Object</a> signers[])
</pre>
<dl>
  <dd> クラスの署名者を設定します。クラスを定義したあとで、signature-aware クラスのローディングコードを使って呼び出します。
<p>
</dl>
<a name="findLoadedClass(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="findLoadedClass"><b>findLoadedClass</b></a>
<pre>
  protected final <a href="java.lang.Class.html#_top_">Class</a> findLoadedClass(<a href="java.lang.String.html#_top_">String</a> name)
</pre>
<dl>
</dl>
<a name="getSystemResourceAsStream(java.lang.String)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getSystemResourceAsStream"><b>getSystemResourceAsStream</b></a>
<pre>
 public static final <a href="java.io.InputStream.html#_top_">InputStream</a> getSystemResourceAsStream(<a href="java.lang.String.html#_top_">String</a> name)
</pre>
<dl>
  <dd> 指定されたリソース上の InputStream をゲットします。この名前を持つリソースが見つからない場合は、null を返します。<p>
リソース名には、任意のシステムリソース名を指定できます。(例えば、CLASSPATH 順に従います)。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> name - 使用するリソース名
    <dt> <b>返り値:</b>
    <dd> リソースの InputStream、見つからない場合は null
  </dl></dd>
</dl>
<a name="getSystemResource(java.lang.String)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getSystemResource"><b>getSystemResource</b></a>
<pre>
 public static final <a href="java.net.URL.html#_top_">URL</a> getSystemResource(<a href="java.lang.String.html#_top_">String</a> name)
</pre>
<dl>
  <dd> 指定された名前を持つリソースを検索します。返り値はリソースの URL です。URL 上で getContent() を実行すると、Image, AudioClip, または InputStream が返ります。<p>
リソース名には、任意のシステムリソースを指定できます。(例えば、CLASSPATH 順に従います)。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> name - 使用するリソース名
    <dt> <b>返り値:</b>
    <dd> リソース上の URL、見つからない場合は null
  </dl></dd>
</dl>
<a name="getResourceAsStream(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getResourceAsStream"><b>getResourceAsStream</b></a>
<pre>
  public <a href="java.io.InputStream.html#_top_">InputStream</a> getResourceAsStream(<a href="java.lang.String.html#_top_">String</a> name)
</pre>
<dl>
  <dd> 指定されたリソース上の InputStream をゲットします。この名前を持つリソースがない場合は、null を返します。<p>
クラスローダは、リソースの検索で行うべきことを選択できます。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> name - 使用するリソース名
    <dt> <b>返り値:</b>
    <dd> リソース上の InputStream、見つからない場合は null
  </dl></dd>
</dl>
<a name="getResource(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getResource"><b>getResource</b></a>
<pre>
  public <a href="java.net.URL.html#_top_">URL</a> getResource(<a href="java.lang.String.html#_top_">String</a> name)
</pre>
<dl>
  <dd> 指定された名前を持つリソースを検索します。返り値はリソースの URL です。URL 上で getContent() を実行すると、Image, an AudioClip, または an InputStream が返ります。<p>
クラスローダは、リソースの検索で行うべきことを選択できます。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> name - 使用するリソース名
    <dt> <b>返り値:</b>
    <dd> リソース上の InputStream on the resource、見つからない場合は null
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">全パッケージ</a>  <a href="tree.html">クラス階層</a>  <a href="Package-java.lang.html">このパッケージ</a>  <a href="java.lang.Class.html#_top_">前項目</a>  <a href="java.lang.Compiler.html#_top_">次項目</a>  <a href="AllNames.html">インデックス</a></pre>
</body>
</html>
