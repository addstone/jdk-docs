<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Mar 17 12:02:09 PST 1997 -->
<title>
  クラス java.text.MessageFormat
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">全パッケージ</a>  <a href="tree.html">クラス階層</a>  <a href="Package-java.text.html">このパッケージ</a>  <a href="java.text.Format.html#_top_">前項目</a>  <a href="java.text.NumberFormat.html#_top_">次項目</a>  <a href="AllNames.html">インデックス</a></pre>
<hr>
<h1>
  クラス java.text.MessageFormat
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----<a href="java.text.Format.html#_top_">java.text.Format</a>
           |
           +----java.text.MessageFormat
</pre>
<hr>
<dl>
  <dt> public class <b>MessageFormat</b>
  <dt> extends <a href="java.text.Format.html#_top_">Format</a>
</dl>
<code>MessageFormat</code>は、連結されたメッセージを、言語に依存しない方法で作成するためのものです。エンドユーザ用に表示するメッセージは、この方法で構築してください。
 <p>
 <code>MessageFormat</code>は、一組のオブジェクトをフォーマットし、フォーマットした文字列をパターンの適切な場所に挿入します。
 <p>
 <strong>Note:</strong>
 <code>MessageFormat</code>が他の <code>Format</code>クラスと異なる点は、<code>MessageFormat</code>オブジェクトをその構築子の1つで構築するということです（<code>getInstance</code>スタイルのファクトリメソッドではなく）。<code>MessageFormat</code>ではロケールに対して複雑なセットアップが必要ないので、ファクトリメソッドは必要ありません。実際、<code>MessageFormat</code>に、ロケール固有の動作は一切実装されていません。
 <p>次に、この使用例をいくつか示します。
 <blockquote>
 <pre>
 Object[] arguments = {
     new Integer(7),
     new Date(System.currentTimeMillis()),
     "a disturbance in the Force"
 };
 String result = MessageFormat.format(
     "At {1,time} on {1,date}, there was {2} on planet {0,number,integer}.",
     arguments);
 <em>output</em>: At 12:30 PM on Jul 3, 2053, there was a disturbance
           in the Force on planet 7.
 </pre>
 </blockquote>一般に、メッセージフォーマットはリソースから与えられ、引数は実行時に動的に設定されます。
 <p>
 例 2:
 <blockquote>
 <pre>
 Object[] testArgs = {new Long(3), "MyDisk"};
 MessageFormat form = new MessageFormat(
     "The disk \"{1}\" contains {0} file(s).");
 System.out.println(form.format(testArgs));
 // output, with different testArgs
 <em>output</em>: The disk "MyDisk" contains 0 file(s).
 <em>output</em>: The disk "MyDisk" contains 1 file(s).
 <em>output</em>: The disk "MyDisk" contains 1,273 file(s).
 </pre>
 </blockquote>
 <p> このパターンは次の形式です。
 <blockquote>
 <pre>
 messageFormatPattern := string ( "{" messageFormatElement "}" string )*
 messageFormatElement := argument { "," elementFormat }
 elementFormat := "time" { "," datetimeStyle }
                | "date" { "," datetimeStyle }
                | "number" { "," numberStyle }
                | "choice" { "," choiceStyle }
 datetimeStyle := "short"
                  | "medium"
                  | "long"
                  | "full"
                  | dateFormatPattern
 numberStyle := "currency"
               | "percent"
               | "integer"
               | numberFormatPattern
 choiceStyle := choiceFormatPattern
 </pre>
 </blockquote><code>elementFormat</code>がない場合、引数は文字列でなければなりません（この文字列が使用されます）。<code>dateTimeStyle</code>も <code>numberStyle</code>もないと、デフォルトのフォーマットが使用されます（たとえば、<code>NumberFormat.getInstance</code>、<code>DateFormat.getTimeInstance</code>、または<code>DateFormat.getInstance</code>）。
 <p>文字列において、単一引用符を使うなら、必要に応じて "{"（波かっこ）を引用することができます。本来の単一引用符は '' で表します。<code>messageFormatElement</code>の中では、引用符は除去<strong>されません</strong>。たとえば、{1,number,$'#',##}と指定すると、パウンド符号が引用された数値フォーマットが生成されます。結果は、"$#31,45"のようになります。
 <p>パターンを使用する場合、引用されていないかっこがあのならば、それらは一致しなければなりません。つまり、"ab {0} de" と "ab '}' de"は正しいのですが、"ab {0'}' de"と "ab } de"は正しくありません。
 <p>この引数は 0から 9の数字です。この数字は、フォーマットする配列で指定される引数の数に対応します。 
 <p> 配列の中に使用されない引数があってもかまいません。引数が足りなかったり、指定するフォーマットに対する正しいクラスのものでないと、 <code>ParseException</code>がスローされます。<code>format</code>はまず、その引数に対し、<code>Format</code>オブジェクトが <code>setFormats</code>メソッドで指定されているかどうかをチェックします。指定されていれば、<code>format</code>はその <code>Format</code>オブジェクトを使って、その引数をフォーマットします。指定がなければ、引数はそのオブジェクトの型に基づいてフォーマットされます。引数が <code>Number</code>なら、<code>format</code>は <code>NumberFormat.getInstance</code>を使って引数をフォーマットします。引き数が <code>Date</code>なら、<code>format</code>は <code>DateFormat.getDateTimeInstance</code>を使って引数をフォーマットします。それ以外の場合は、<code>toString</code>メソッドを使用します。
  <p>さらに複雑なパターンの場合、<code>ChoiceFormat</code>を使って次のように出力を得ることもできます。
 <blockquote>
  <pre>
 MessageFormat form = new MessageFormat("The disk \"{1}\" contains {0}.");
 double[] filelimits = {0,1,2};
 String[] filepart = {"no files","one file","{0,number} files"};
 ChoiceFormat fileform = new ChoiceFormat(filelimits, filepart);
 form.setFormat(1,fileform); // NOT zero, see below
 Object[] testArgs = {new Long(12373), "MyDisk"};
 System.out.println(form.format(testArgs));
 // output, with different testArgs
 output: The disk "MyDisk" contains no files.
 output: The disk "MyDisk" contains one file.
 output: The disk "MyDisk" contains 1,273 files.
 </pre>
 </blockquote>これは、上の例のようにプログラム的に行うか、次のようにパターン（詳しくは、<a href="java.text.ChoiceFormat.html"><code>ChoiceFormat</code></a>を参照）を使って行うことができます
 <blockquote>
 <pre>
 form.applyPattern(
    "There {0,choice,0#are no files|1#is one file|1#are {0,number,integer} files}.");
 </pre>
 </blockquote>
 <p>
 <strong>注:</strong> 上で見たように、<code>MessageFormat</code>の <code>ChoiceFormat</code>で生成される文字列は、特別に処理されます。複数の '{' を使ってサブフォーマットを表し、繰返しを行います。<code>MessageFormat</code>と <code>ChoiceFormat</code>を両方ともプログラム的に（文字列パターンではなく）作成する場合には、再帰的に繰り返すフォーマットを作成しないように気をつけてください。永久ロープになります。
 <p>
 <strong>注:</strong> フォーマットは、文字列における変数の順に従って数えられます。これは、引数の数え方と同じでは<strong>ありません</strong>! たとえば、"abc{2}def{3}ghi{0}..."の場合
 <ul>
 <li>format0 は最初の変数 {2}に作用します。
 <li>format1 は 2つめの変数 {3}に作用します。
 <li>format2 は 3つめの変数 {0}に作用します。
 <li>以下、同様です。
 </ul>
<p>
<dl>
    <dt> <b>参照:</b>
    <dd> <a href="java.util.Locale.html#_top_">Locale</a>, <a href="java.text.Format.html#_top_">Format</a>, <a href="java.text.NumberFormat.html#_top_">NumberFormat</a>, <a href="java.text.DecimalFormat.html#_top_">DecimalFormat</a>, <a href="java.text.ChoiceFormat.html#_top_">ChoiceFormat</a>
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#MessageFormat(java.lang.String)"><b>MessageFormat</b></a>(String)
  <dd>  指定するパターンで構築します。
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#applyPattern(java.lang.String)"><b>applyPattern</b></a>(String)
  <dd>  パターンを設定します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#clone()"><b>clone</b></a>()
  <dd>  Cloneableをオーバーライドします。

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#equals(java.lang.Object)"><b>equals</b></a>(Object)
  <dd>  2つのメッセージフォーマットオブジェクトの等号比較です。

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#format(java.lang.Object, java.lang.StringBuffer, java.text.FieldPosition)"><b>format</b></a>(Object, StringBuffer, FieldPosition)
  <dd>  オブジェクトをフォーマットして文字列を生成します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#format(java.lang.Object[], java.lang.StringBuffer, java.text.FieldPosition)"><b>format</b></a>(Object[], StringBuffer, FieldPosition)
  <dd>  フォーマットされたオブジェクトとともにパターンを返します。
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#format(java.lang.String, java.lang.Object[])"><b>format</b></a>(String, Object[])
  <dd>  コンビニエンスルーチンです。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getFormats()"><b>getFormats</b></a>()
  <dd>  setFormatsで設定されたフォーマットを入手します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getLocale()"><b>getLocale</b></a>()
  <dd>  ロケールを入手します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#hashCode()"><b>hashCode</b></a>()
  <dd>  メッセージフォーマットオブジェクトのハッシュコードを生成します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#parse(java.lang.String)"><b>parse</b></a>(String)
  <dd>  文字列を解析します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#parse(java.lang.String, java.text.ParsePosition)"><b>parse</b></a>(String, ParsePosition)
  <dd>  文字列を解析します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#parseObject(java.lang.String, java.text.ParsePosition)"><b>parseObject</b></a>(String, ParsePosition)
  <dd>  文字列を解析します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setFormat(int, java.text.Format)"><b>setFormat</b></a>(int, Format)
  <dd>  パラメータで使用するフォーマットを個別に設定します。
    <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setFormats(java.text.Format[])"><b>setFormats</b></a>(Format[])
  <dd>  パラメータで使用するフォーマットを設定します。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setLocale(java.util.Locale)"><b>setLocale</b></a>(Locale)
  <dd>  指定のパターンで構築し、引数に対しそのパターンでフォーマットします。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#toPattern()"><b>toPattern</b></a>()
  <dd>  パターンを入手します。
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="MessageFormat"></a>
<a name="MessageFormat(java.lang.String)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>MessageFormat</b>
<pre>
  public MessageFormat(<a href="java.lang.String.html#_top_">String</a> pattern)
</pre>
<dl>
  <dd> 指定のパターンで構築します。
<p>
  <dd><dl>
    <dt> <b>参照:</b>
    <dd> <a href="#applyPattern">applyPattern</a>
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="setLocale(java.util.Locale)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setLocale"><b>setLocale</b></a>
<pre>
  public void setLocale(<a href="java.util.Locale.html#_top_">Locale</a> theLocale)
</pre>
<dl>
  <dd> 指定のパターンで構築し、引数に対しそのパターンでフォーマットします。
<p>
</dl>
<a name="getLocale()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getLocale"><b>getLocale</b></a>
<pre>
  public <a href="java.util.Locale.html#_top_">Locale</a> getLocale()
</pre>
<dl>
  <dd> ロケールを入手します。このロケールは、デフォルトの数値や日付のフォーマット情報をフェッチするために使用します。
<p>
</dl>
<a name="applyPattern(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="applyPattern"><b>applyPattern</b></a>
<pre>
  public void applyPattern(<a href="java.lang.String.html#_top_">String</a> newPattern)
</pre>
<dl>
  <dd> パターンを設定します。そのクラスの記述を参照してください。
<p>
</dl>
<a name="toPattern()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="toPattern"><b>toPattern</b></a>
<pre>
  public <a href="java.lang.String.html#_top_">String</a> toPattern()
</pre>
<dl>
  <dd> パターンを入手します。そのクラスの記述を参照してください。
<p>
</dl>
<a name="setFormats(java.text.Format[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setFormats"><b>setFormats</b></a>
<pre>
  public void setFormats(<a href="java.text.Format.html#_top_">Format</a> newFormats[])
</pre>
<dl>
  <dd>  パラメータで使用するフォーマットを設定します。フォーマットの数え方については、クラス記述を参照してください。
<p>
</dl>
<a name="setFormat(int, java.text.Format)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setFormat"><b>setFormat</b></a>
<pre>
  public void setFormat(int variable,
                        <a href="java.text.Format.html#_top_">Format</a> newFormat)
</pre>
<dl>
  <dd>  パラメータで使用するフォーマットを個別に設定します。フォーマットの数え方については、クラス記述を参照してください。
<p>
</dl>
<a name="getFormats()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getFormats"><b>getFormats</b></a>
<pre>
  public <a href="java.text.Format.html#_top_">Format</a>[] getFormats()
</pre>
<dl>
  <dd> setFormatsで設定されたフォーマットを入手します。フォーマットの数え方については、クラス記述を参照してください。
<p>
</dl>
<a name="format(java.lang.Object[], java.lang.StringBuffer, java.text.FieldPosition)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="format"><b>format</b></a>
<pre>
  public final <a href="java.lang.StringBuffer.html#_top_">StringBuffer</a> format(<a href="java.lang.Object.html#_top_">Object</a> source[],
                                   <a href="java.lang.StringBuffer.html#_top_">StringBuffer</a> result,
                                   <a href="java.text.FieldPosition.html#_top_">FieldPosition</a> ignore)
</pre>
<dl>
  <dd> フォーマットされたオブジェクトとともにパターンを返します。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> source - フォーマットまたは置き換えるオブジェクトからなる配列
    <dd> result - テキストが追加されるところ
    <dd> ignore - 使用できる状態は返されない
  </dl></dd>
</dl>
<a name="format(java.lang.String, java.lang.Object[])"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="format"><b>format</b></a>
<pre>
  public static <a href="java.lang.String.html#_top_">String</a> format(<a href="java.lang.String.html#_top_">String</a> pattern,
                              <a href="java.lang.Object.html#_top_">Object</a> arguments[])
</pre>
<dl>
  <dd> コンビニエンスルーチン。MessageFormatを明示的に作成しませんが、これは、将来の最適化を狙ったものではありません。
<p>
</dl>
<a name="format(java.lang.Object, java.lang.StringBuffer, java.text.FieldPosition)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="format"><b>format</b></a>
<pre>
  public final <a href="java.lang.StringBuffer.html#_top_">StringBuffer</a> format(<a href="java.lang.Object.html#_top_">Object</a> source,
                                   <a href="java.lang.StringBuffer.html#_top_">StringBuffer</a> result,
                                   <a href="java.text.FieldPosition.html#_top_">FieldPosition</a> ignore)
</pre>
<dl>
  <dd> オブジェクトをフォーマットして文字列を生成します。
<p>
  <dd><dl>
    <dt> <b>オーバーライド:</b>
    <dd> クラス <a href="java.text.Format.html#_top_">Format</a>の <a href="java.text.Format.html#format(java.lang.Object, java.lang.StringBuffer, java.text.FieldPosition)">format</a>
  </dl></dd>
</dl>
<a name="parse(java.lang.String, java.text.ParsePosition)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="parse"><b>parse</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a>[] parse(<a href="java.lang.String.html#_top_">String</a> source,
                        <a href="java.text.ParsePosition.html#_top_">ParsePosition</a> status)
</pre>
<dl>
  <dd> 文字列を解析します。
 <p>注意: 解析はさまざまな状況により、うまく作動しないことがあります。たとえば、次のような場合です。
 <ul>
 <li>引数の 1つがパターンにない。
 <li>大きな数字が "many"にフォーマットされる choice formatなどで、引数のフォーマットが情報を失う。
 <li>反復をまだ処理しない（置き換える文字列に {n}個の参照がある場合）。 
 <li>解析の一部があいまいなとき、一致（または正しい一致）が必ずしも見つからない。たとえば、パターン "{1},{2}"を文字列引き数 {"a,b", "c"}で使用する場合、"a,b,c"とフォーマットされます。その結果が解析されると、{"a", "b,c"}が返されます。
 <li>1つの引数が文字列で 2回フォーマットされた場合は、後の解析が有効になります。 </ul>
<p>
</dl>
<a name="parse(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="parse"><b>parse</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a>[] parse(<a href="java.lang.String.html#_top_">String</a> source) throws <a href="java.text.ParseException.html#_top_">ParseException</a>
</pre>
<dl>
  <dd> ストリングを解析します。反復をまだ処理しません（置き換える文字列に {n}個の参照がある場合）。
<p>
  <dd><dl>
    <dt> <b>例外:</b> <a href="java.text.ParseException.html#_top_">ParseException</a>
    <dd> 文字列が解析できない場合
  </dl></dd>
</dl>
<a name="parseObject(java.lang.String, java.text.ParsePosition)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="parseObject"><b>parseObject</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> parseObject(<a href="java.lang.String.html#_top_">String</a> text,
                            <a href="java.text.ParsePosition.html#_top_">ParsePosition</a> status)
</pre>
<dl>
  <dd> ストリングを解析します。反復はまだ処理しません（置き換える文字列に%n個の参照がある場合）。
<p>
  <dd><dl>
    <dt> <b>オーバーライド:</b>
    <dd> クラス <a href="java.text.Format.html#_top_">Format</a>の <a href="java.text.Format.html#parseObject(java.lang.String, java.text.ParsePosition)">parseObject</a> 
  </dl></dd>
</dl>
<a name="clone()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="clone"><b>clone</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> clone()
</pre>
<dl>
  <dd> Cloneableをオーバーライドします。
  
<p>
  <dd><dl>
    <dt> <b>オーバーライド:</b>
    <dd> クラス <a href="java.text.Format.html#_top_">Format</a>の <a href="java.text.Format.html#clone()">clone</a> 
  </dl></dd>
</dl>
<a name="equals(java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="equals"><b>equals</b></a>
<pre>
  public boolean equals(<a href="java.lang.Object.html#_top_">Object</a> obj)
</pre>
<dl>
  <dd> 2つのメッセージフォーマットオブジェクトの間の等号比較です。
<p>
  <dd><dl>
    <dt> <b>オーバーライド:</b>
    <dd> クラス <a href="java.lang.Object.html#_top_">Object</a>の <a href="java.lang.Object.html#equals(java.lang.Object)">equals</a>
  </dl></dd>
</dl>
<a name="hashCode()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="hashCode"><b>hashCode</b></a>
<pre>
  public int hashCode()
</pre>
<dl>
  <dd> メッセージフォーマットオブジェクトのハッシュコードを生成します。
  <p>
  <dd><dl>
    <dt> <b>オーバーライド:</b>
    <dd> クラス<a href="java.lang.Object.html#_top_">Object</a>の <a href="java.lang.Object.html#hashCode()">hashCode</a>
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">全パッケージ</a>  <a href="tree.html">クラス階層</a>  <a href="Package-java.text.html">このパッケージ</a>  <a href="java.text.Format.html#_top_">前項目</a>  <a href="java.text.NumberFormat.html#_top_">次項目</a>  <a href="AllNames.html">インデックス</a></pre>
</body>
</html>

