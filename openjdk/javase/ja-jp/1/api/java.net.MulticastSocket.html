<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Mar 17 12:02:09 PST 1997 -->
<title>
  クラス java.net.MulticastSocket
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">全パッケージ</a>  <a href="tree.html">クラス階層</a>  <a href="Package-java.net.html">このパッケージ</a>  <a href="java.net.InetAddress.html#_top_">前項目</a>  <a href="java.net.ServerSocket.html#_top_">次項目</a>  <a href="AllNames.html">インデックス</a></pre>
<hr>
<h1>
  クラス java.net.MulticastSocket
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----<a href="java.net.DatagramSocket.html#_top_">java.net.DatagramSocket</a>
           |
           +----java.net.MulticastSocket
</pre>
<hr>
<dl>
  <dt> public class <b>MulticastSocket</b>
  <dt> extends <a href="java.net.DatagramSocket.html#_top_">DatagramSocket</a>
</dl>
マルチキャストデータグラムソケットクラスは、IP マルチキャストパケットを送受信するときに便利です。MulticastSocket は、インターネット上の他のマルチキャストホストの「グループ」に参加する追加機能をもった (UDP) DatagramSocket です。
 <P>
 マルチキャストグループを指定するには、クラス D IP アドレス (<CODE>224.0.0.1</CODE> から <CODE>239.255.255.255</CODE> までの範囲) と標準的な UDP ポート番号を使用します。マルチキャストグループに参加するには、まず目的のポートを使用して MulticastSocket を作成し、次に <CODE>joinGroup(InetAddress groupAddr)</CODE> メソッドを呼び出します。次に例を示します。
 <pre>
 // join a Multicast group and send the group salutations
 ...
 byte[] msg = {'H', 'e', 'l', 'l', 'o'};
 InetAddress group = InetAddress.getByName("228.5.6.7");
 MulticastSocket s = new MulticastSocket(6789);
 s.joinGroup(group);
 DatagramPacket hi = new DatagramPacket(msg, msg.length,
                             group, 6789);
 s.send(hi);
 // get their responses! 
 byte[] buf = new byte[1000];
 DatagramPacket recv = new DatagramPacket(buf, buf.length);
 s.receive(recv);
 ...
 // OK, I'm done talking - leave the group...
 s.leaveGroup(group);
 </pre>
 マルチキャストグループにメッセージを送信すると、そのホストとポートの<B>すべての</B>参加者がメッセージを受け取ります (ただしパケットの有効期間内に限られます。詳細は後述します)。マルチキャストグループにメッセージを送信するためには、ソケットがそのマルチキャストグループのメンバである必要はありません。
 <P>
ソケットがマルチキャストグループまたはポートに参加すると、他のホストからそのグループまたはポートに送信されたデータグラムを受信することができます。そのグループとポートの他のメンバもすべて同じデータグラムを受信します。ソケットをグループから外すには、leaveGroup(InetAddress addr) メソッドを使用します。<B> 
複数の MulticastSocket</B> が同時にマルチキャストグループとポートに参加することができ、それらの MulticastSocket はすべて同じグループデータグラムを受信します。
 <P>
 現在のところ、アプレットではマルチキャストソケットを使用することはできません。
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#MulticastSocket()"><b>MulticastSocket</b></a>()
  <dd>  マルチキャストソケットを作成する。
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#MulticastSocket(int)"><b>MulticastSocket</b></a>(int)
  <dd>  マルチキャストソケットを作成し、特定のポートに結合する。
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getInterface()"><b>getInterface</b></a>()
  <dd>  マルチキャストパケットに使用されるネットワークインタフェースのアドレスを取得する。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getTTL()"><b>getTTL</b></a>()
  <dd>  ソケットから送信するマルチキャストパケットのデフォルトの有効期間を取得する。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#joinGroup(java.net.InetAddress)"><b>joinGroup</b></a>(InetAddress)
  <dd>  マルチキャストグループに参加する。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#leaveGroup(java.net.InetAddress)"><b>leaveGroup</b></a>(InetAddress)
  <dd>  マルチキャストグループから外れる。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#send(java.net.DatagramPacket, byte)"><b>send</b></a>(DatagramPacket, byte)
  <dd>  そのソケットのデフォルト以外の TTL (有効期間) を指定して、データグラムパケットを宛先に送信する。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setInterface(java.net.InetAddress)"><b>setInterface</b></a>(InetAddress)
  <dd>  このソケットのマルチキャストパケット出力用ネットワークインタフェースをシステムデフォルト値以外に設定する。
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setTTL(byte)"><b>setTTL</b></a>(byte)
  <dd>  このソケットから送信するマルチキャストパケットのデフォルトの有効期間を設定する。
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="MulticastSocket"></a>
<a name="MulticastSocket()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>MulticastSocket</b>
<pre>
  public MulticastSocket() throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> マルチキャストソケットを作成します。
<p>
</dl>
<a name="MulticastSocket(int)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>MulticastSocket</b>
<pre>
  public MulticastSocket(int port) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> 特定のポートに結合されたマルチキャストソケットを作成します。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> local - 使用するポート
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="setTTL(byte)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setTTL"><b>setTTL</b></a>
<pre>
  public void setTTL(byte ttl) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> このソケットから送信するマルチキャストパケットのデフォルトの有効期間を設定します。TTL は  MulticastGroup に送信される <code>DatagramPackets</code> の IP 有効期間を設定します。つまり、期限が切れるまでに、そのパケットをネットワーク上で何回「ホップ」するかを設定します。
 <P>
 ttl は <b>符号なし</b>の 8 ビットで指定します。また<code> 0 &lt; ttl &lt;= 0xFF </code> の範囲内でなければ<B>なりません</B>。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> ttl - 有効期間
  </dl></dd>
</dl>
<a name="getTTL()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getTTL"><b>getTTL</b></a>
<pre>
  public byte getTTL() throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> このソケットから送信されるマルチキャストパケットのデフォルトの有効期間を取得します。
<p>
</dl>
<a name="joinGroup(java.net.InetAddress)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="joinGroup"><b>joinGroup</b></a>
<pre>
  public void joinGroup(<a href="java.net.InetAddress.html#_top_">InetAddress</a> mcastaddr) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> マルチキャストグループに参加します。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> mcastaddr - 参加するマルチキャストアドレス
    <dt> <b>例外 :</b> <a href="java.io.IOException.html#_top_">IOException</a>
    <dd> 参加する際にエラーが発生した、または指定したアドレスがマルチキャストアドレスではない
  </dl></dd>
</dl>
<a name="leaveGroup(java.net.InetAddress)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="leaveGroup"><b>leaveGroup</b></a>
<pre>
  public void leaveGroup(<a href="java.net.InetAddress.html#_top_">InetAddress</a> mcastaddr) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> マルチキャストグループから外れます。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> mcastaddr - マルチキャストアドレス
    <dt> <b>例外 :</b> <a href="java.io.IOException.html#_top_">IOException</a>
    <dd> 外れる際にエラーが発生した、または指定したアドレスがマルチキャストアドレスではない
  </dl></dd>
</dl>
<a name="setInterface(java.net.InetAddress)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setInterface"><b>setInterface</b></a>
<pre>
  public void setInterface(<a href="java.net.InetAddress.html#_top_">InetAddress</a> inf) throws <a href="java.net.SocketException.html#_top_">SocketException</a>
</pre>
<dl>
  <dd> このソケットのマルチキャストパケット用の、出力用ネットワークインタフェースを、システムのデフォルト値以外に設定します。マルチホームのホストに便利です。
<p>
</dl>
<a name="getInterface()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getInterface"><b>getInterface</b></a>
<pre>
  public <a href="java.net.InetAddress.html#_top_">InetAddress</a> getInterface() throws <a href="java.net.SocketException.html#_top_">SocketException</a>
</pre>
<dl>
  <dd> マルチキャストパケットに使用するネットワークインタフェースのアドレスを取得します。
<p>
</dl>
<a name="send(java.net.DatagramPacket, byte)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="send"><b>send</b></a>
<pre>
  public synchronized void send(<a href="java.net.DatagramPacket.html#_top_">DatagramPacket</a> p,
                                byte ttl) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> そのソケットのデフォルト値以外の TTL (有効期間) を使用して、データグラムパケットを宛先に送信します。このメソッドは、特定の TTL を指定する必要がある場合にだけ使用します。それ以外の場合はそのソケットの TTL をいったん設定し、すべてのパケットにその TTL デフォルト値を使用するのが理想的です。このメソッドは、ソケットの TTL デフォルト値を変更<B>しません</B>。
<p>
  <dd><dl>
    <dt> <b>パラメータ:</b>
    <dd> p - 送信するパケット。パケットには宛先マルチキャスト IP アドレスと、送信データが含まれる。宛先マルチキャストアドレスにパケットを送信するためには、そのグループのメンバである必要はない。
    <dd> ttl - マルチキャストパケットの有効期間 (任意)。デフォルト値は 1。
    <dt> <b>例外 :</b> <a href="java.io.IOException.html#_top_">IOException</a>
    <dd> エラーが発生した (TTL の設定中にエラーが発生した)
    <dt> <b>参照:</b>
    <dd> <a href="java.net.DatagramSocket.html#send">send</a>, <a href="java.net.DatagramSocket.html#receive">receive</a>
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">全パッケージ</a>  <a href="tree.html">クラス階層</a>  <a href="Package-java.net.html">このパッケージ</a>  <a href="java.net.InetAddress.html#_top_">前項目</a>  <a href="java.net.ServerSocket.html#_top_">次項目</a>  <a href="AllNames.html">インデックス</a></pre>
</body>
</html>
